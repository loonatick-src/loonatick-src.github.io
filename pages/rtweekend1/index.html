<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/compute_general.css"> <link rel=icon  href="/assets/favicon.png"> <title>Optimizing a Ray Tracer in One Weekend: Part 1</title> <header> <div class=blog-name ><a href="/">Compute General</a></div> <nav> <ul> <li><a href="/">Home</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content > <h1 id=introduction ><a href="#introduction" class=header-anchor >Introduction</a></h1> <h1 id=what_this_is_not ><a href="#what_this_is_not" class=header-anchor >What this is not</a></h1> <p>This post is absolutely NOT intended to be a critique of Dr. Peter Shirley&#39;s work. The &quot;Ray Tracing in One Weekend&quot; series is a very approachable and excellent resource for learning concepts in ray tracing, and we are merely demonstrating some basic, general performance optimization principles not specific to computer graphics or ray-tracing. To quote from the original project&#39;s <code>README</code>:</p> <blockquote> <p>It is not meant to represent ideal &#40;or optimized&#41; C&#43;&#43; code.</p> </blockquote> <p>Assume that the same holds for the modifications that we set out to do. Consequently, this series is also NOT an opinion on how to make &quot;production-ready&quot; ray tracers. As mentioned, we simply hunt down performance bottlenecks &#40;or hotspots&#41; and get rid of them incrementally. There is no way of getting anywhere close to the hardware&#39;s peak performance using the hotspot-optimization approach in most baseline implementations. A performant ray tracer would have a completely different architecture and would thus require a complete rewrite <sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup></p> <table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >Daniel Lemire covers this general principle in more detail in <a href="https://lemire.me/blog/2023/04/27/hotspot-performance-engineering-fails/">his blog</a>. Therein he referes to Casey Muratori&#39;s <a href="https://www.computerenhance.com/p/performance-excuses-debunked">article on performance excuses</a>. Read that as well if you have not yet. </table> <p></p> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Chaitanya Kumar. Last modified: June 02, 2023. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>